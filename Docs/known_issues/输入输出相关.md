# 输入输出相关问题

## cin和scanf清除输入缓冲区

建议在每次使用 cin 或 scanf 之前都清除缓冲区，否则如果缓冲区内有非法字符，则会失败。以下为清除方法：

cin:

```c++
cin.clear(); // 使流数据重新处于有效状态
cin.ignore(); // 清空缓存区数据
```

scanf:

```c
fflush(stdin);
```

## scanf 如果末尾有 `\n` 则输入第二行时才会读取上一行的信息

这是标准库的特性，所以 scanf 后面不要加 '\n'

## printf 线程不安全，调用前请先上锁

## 使用 gcc 10.3.1 版本，在不使用 --specs=nano.specs 参数时，cout 无法打印出东西

升级到 12.2.1 版本后解决，怀疑是编译器 bug
